{"ast":null,"code":"import _classCallCheck from \"/Users/nakaokashinzo/Documents/react/notion-clone/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/nakaokashinzo/Documents/react/notion-clone/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _assertThisInitialized from \"/Users/nakaokashinzo/Documents/react/notion-clone/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";\nimport _inherits from \"/Users/nakaokashinzo/Documents/react/notion-clone/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"/Users/nakaokashinzo/Documents/react/notion-clone/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nvar _jsxFileName = \"/Users/nakaokashinzo/Documents/react/notion-clone/src/selectMenu.js\";\nimport React from \"react\";\nimport { matchSorter } from \"match-sorter\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar MENU_HEIGHT = 150;\nvar allowedTags = [{\n  id: \"page-title\",\n  tag: \"h1\",\n  label: \"Page Title\"\n}, {\n  id: \"heading\",\n  tag: \"h2\",\n  label: \"Heading\"\n}, {\n  id: \"subheading\",\n  tag: \"h3\",\n  label: \"Subheading\"\n}, {\n  id: \"paragraph\",\n  tag: \"p\",\n  label: \"Paragraph\"\n}];\nvar SelectMenu = /*#__PURE__*/function (_React$Component) {\n  _inherits(SelectMenu, _React$Component);\n  var _super = _createSuper(SelectMenu);\n  function SelectMenu(props) {\n    var _this;\n    _classCallCheck(this, SelectMenu);\n    _this = _super.call(this, props);\n    _this.keyDownHandler = _this.keyDownHandler.bind(_assertThisInitialized(_this));\n    _this.state = {\n      command: \"\",\n      items: allowedTags,\n      selectedItem: 0\n    };\n    return _this;\n  }\n\n  // Attach a key listener to add any given key to the command\n  _createClass(SelectMenu, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      document.addEventListener(\"keydown\", this.keyDownHandler);\n    }\n\n    // Whenever the command changes, look for matching tags in the list\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {\n      var command = this.state.command;\n      if (prevState.command !== command) {\n        var items = matchSorter(allowedTags, command, {\n          keys: [\"tag\"]\n        });\n        this.setState({\n          items: items\n        });\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      document.removeEventListener(\"keydown\", this.keyDownHandler);\n    }\n  }, {\n    key: \"keyDownHandler\",\n    value: function keyDownHandler(e) {\n      var items = this.state.items;\n      var selected = this.state.selectedItem;\n      var command = this.state.command;\n      switch (e.key) {\n        case \"Enter\":\n          e.preventDefault();\n          this.props.onSelect(items[selected].tag);\n          break;\n        case \"Backspace\":\n          if (!command) this.props.close();\n          this.setState({\n            command: command.substring(0, command.length - 1)\n          });\n          break;\n        case \"ArrowUp\":\n          e.preventDefault();\n          var prevSelected = selected === 0 ? items.length - 1 : selected - 1;\n          this.setState({\n            selectedItem: prevSelected\n          });\n          break;\n        case \"ArrowDown\":\n        case \"Tab\":\n          e.preventDefault();\n          var nextSelected = selected === items.length - 1 ? 0 : selected + 1;\n          this.setState({\n            selectedItem: nextSelected\n          });\n          break;\n        default:\n          this.setState({\n            command: this.state.command + e.key\n          });\n          break;\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n      // Define the absolute position before rendering\n      var x = this.props.position.x;\n      var y = this.props.position.y - MENU_HEIGHT;\n      var positionAttributes = {\n        top: y,\n        left: x\n      };\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"SelectMenu\",\n        style: positionAttributes,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"Items\",\n          children: this.state.items.map(function (item, key) {\n            var selectedItem = _this2.state.selectedItem;\n            var isSelected = _this2.state.items.indexOf(item) === selectedItem;\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: isSelected ? \"Selected\" : null,\n              role: \"button\",\n              tabIndex: \"0\",\n              onClick: function onClick() {\n                return _this2.props.onSelect(item.tag);\n              },\n              children: item.label\n            }, key, false, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 15\n            }, _this2);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 7\n      }, this);\n    }\n  }]);\n  return SelectMenu;\n}(React.Component);\nexport default SelectMenu;","map":{"version":3,"names":["React","matchSorter","jsxDEV","_jsxDEV","MENU_HEIGHT","allowedTags","id","tag","label","SelectMenu","_React$Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","call","keyDownHandler","bind","_assertThisInitialized","state","command","items","selectedItem","_createClass","key","value","componentDidMount","document","addEventListener","componentDidUpdate","prevProps","prevState","keys","setState","componentWillUnmount","removeEventListener","e","selected","preventDefault","onSelect","close","substring","length","prevSelected","nextSelected","render","_this2","x","position","y","positionAttributes","top","left","className","style","children","map","item","isSelected","indexOf","role","tabIndex","onClick","fileName","_jsxFileName","lineNumber","columnNumber","Component"],"sources":["/Users/nakaokashinzo/Documents/react/notion-clone/src/selectMenu.js"],"sourcesContent":["import React from \"react\";\nimport { matchSorter } from \"match-sorter\";\n\nconst MENU_HEIGHT = 150;\nconst allowedTags = [\n  {\n    id: \"page-title\",\n    tag: \"h1\",\n    label: \"Page Title\"\n  },\n  {\n    id: \"heading\",\n    tag: \"h2\",\n    label: \"Heading\"\n  },\n  {\n    id: \"subheading\",\n    tag: \"h3\",\n    label: \"Subheading\"\n  },\n  {\n    id: \"paragraph\",\n    tag: \"p\",\n    label: \"Paragraph\"\n  }\n];\n\nclass SelectMenu extends React.Component {\n  constructor(props) {\n    super(props);\n    this.keyDownHandler = this.keyDownHandler.bind(this);\n    this.state = {\n      command: \"\",\n      items: allowedTags,\n      selectedItem: 0\n    };\n  }\n\n  // Attach a key listener to add any given key to the command\n  componentDidMount() {\n    document.addEventListener(\"keydown\", this.keyDownHandler);\n  }\n\n  // Whenever the command changes, look for matching tags in the list\n  componentDidUpdate(prevProps, prevState) {\n    const command = this.state.command;\n    if (prevState.command !== command) {\n      const items = matchSorter(allowedTags, command, { keys: [\"tag\"] });\n      this.setState({ items: items });\n    }\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener(\"keydown\", this.keyDownHandler);\n  }\n\n  keyDownHandler(e) {\n    const items = this.state.items;\n    const selected = this.state.selectedItem;\n    const command = this.state.command;\n\n    switch (e.key) {\n      case \"Enter\":\n        e.preventDefault();\n        this.props.onSelect(items[selected].tag);\n        break;\n      case \"Backspace\":\n        if (!command) this.props.close();\n        this.setState({ command: command.substring(0, command.length - 1) });\n        break;\n      case \"ArrowUp\":\n        e.preventDefault();\n        const prevSelected = selected === 0 ? items.length - 1 : selected - 1;\n        this.setState({ selectedItem: prevSelected });\n        break;\n      case \"ArrowDown\":\n      case \"Tab\":\n        e.preventDefault();\n        const nextSelected = selected === items.length - 1 ? 0 : selected + 1;\n        this.setState({ selectedItem: nextSelected });\n        break;\n      default:\n        this.setState({ command: this.state.command + e.key });\n        break;\n    }\n  }\n\n  render() {\n    // Define the absolute position before rendering\n    const x = this.props.position.x;\n    const y = this.props.position.y - MENU_HEIGHT;\n    const positionAttributes = { top: y, left: x };\n\n    return (\n      <div className=\"SelectMenu\" style={positionAttributes}>\n        <div className=\"Items\">\n          {this.state.items.map((item, key) => {\n            const selectedItem = this.state.selectedItem;\n            const isSelected = this.state.items.indexOf(item) === selectedItem;\n            return (\n              <div\n                className={isSelected ? \"Selected\" : null}\n                key={key}\n                role=\"button\"\n                tabIndex=\"0\"\n                onClick={() => this.props.onSelect(item.tag)}\n              >\n                {item.label}\n              </div>\n            );\n          })}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default SelectMenu;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}